@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
System_Boundary(imic, "IMIC") {
  Container(web, "Web App", "ASP.NET Core", "Internet portal for policyholders & agents")
  Container(api, "API Gateway", "YARP/Ocelot", "Routes requests")
  Container(policy, "Policy Service", ".NET 8 Web API", "Applications, issuance")
  Container(claims, "Claims Service", ".NET 8 Web API", "Claims mgmt")
  Container(auth, "Identity", "Entra ID", "AuthN/AuthZ")
}
Rel(web, api, "HTTPS")
Rel(api, policy, "REST")
Rel(api, claims, "REST")
Rel(web, auth, "OIDC")
@enduml
